{"version":3,"sources":["../src/Feed.jsx"],"names":["Feed","Component","handleClick","evn","preventDefault","handleProcess","props","api","link","display","appId","getAppId","redirectURI","from","to","picture","source","name","caption","description","dataRef","ui","method","app_id","redirect_uri","ref","render","children","loading","error","data","defaultProps","undefined"],"mappings":";;;;;;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAsBA,MAAMA,IAAN,SAAmBC,gBAAnB,CAAoC;AAAA;AAAA;;AAAA,gDAgBlCC,WAhBkC;AAAA,iDAgBpB,WAAOC,GAAP,EAAe;AAC3BA,YAAIC,cAAJ;;AAEA,cAAM,EAAEC,aAAF,KAAoB,MAAKC,KAA/B;;AAEA,eAAOD;AAAA,sDAAc,WAAOE,GAAP,EAAe;AAClC,kBAAM;AACJC,qBAAO,+BADH;AAEJC,qBAFI;AAGJC,sBAAQH,IAAII,QAAJ,EAHJ;AAIJC,yBAJI;AAKJC,kBALI;AAMJC,gBANI;AAOJC,qBAPI;AAQJC,oBARI;AASJC,kBATI;AAUJC,qBAVI;AAWJC,yBAXI;AAYJC;AAZI,gBAaF,MAAKd,KAbT;;AAeA,mBAAOC,IAAIc,EAAJ,CAAO,wCAAyB;AACrCC,sBAAQ,MAD6B;AAErCd,kBAFqC;AAGrCC,qBAHqC;AAIrCc,sBAAQb,KAJ6B;AAKrCc,4BAAcZ,WALuB;AAMrCC,kBANqC;AAOrCC,gBAPqC;AAQrCC,qBARqC;AASrCC,oBATqC;AAUrCC,kBAVqC;AAWrCC,qBAXqC;AAYrCC,yBAZqC;AAarCM,mBAAKL;AAbgC,aAAzB,CAAP,CAAP;AAeD,WA/BM;;AAAA;AAAA;AAAA;AAAA,aAAP;AAgCD,OArDiC;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAuDlCM,WAAS;AACP,UAAM;AACJC,cADI,EACMC,OADN,EACeC,KADf,EACsBC;AADtB,QAEF,KAAKxB,KAFT;;AAIA,WAAOqB,SAAS;AACdC,aADc;AAEd1B,mBAAa,KAAKA,WAFJ;AAGd2B,WAHc;AAIdC;AAJc,KAAT,CAAP;AAMD;AAlEiC;;AAA9B9B,I,CACG+B,Y,GAAe;AACpBvB,QAAMwB,SADc;AAEpBvB,WAASuB,SAFW;AAGpBtB,SAAOsB,SAHa;AAIpBpB,eAAaoB,SAJO;AAKpBnB,QAAMmB,SALc;AAMpBlB,MAAIkB,SANgB;AAOpBhB,UAAQgB,SAPY;AAQpBjB,WAASiB,SARW;AASpBf,QAAMe,SATc;AAUpBd,WAASc,SAVW;AAWpBb,eAAaa,SAXO;AAYpBZ,WAASY;AAZW,C;kBAoET,uBAAW,CAAC1B,KAAD,EAAQmB,GAAR,KACxB;AAAC,mBAAD;AAAA;AACG,GAAC;AACAG,WADA,EACSvB,aADT,EACwBwB,KADxB,EAC+BC;AAD/B,GAAD,KAGC,8BAAC,IAAD,6BACMxB,KADN;AAEE,aAASsB,OAFX;AAGE,mBAAevB,aAHjB;AAIE,UAAMyB,IAJR;AAKE,WAAOD,KALT;AAME,SAAKJ;AANP;AAJJ,CADa,C","file":"Feed.js","sourcesContent":["// @flow\r\nimport React, { Component, forwardRef } from 'react';\r\nimport getCurrentHref from './utils/getCurrentHref';\r\nimport clearUndefinedProperties from './utils/clearUndefinedProperties';\r\nimport Process from './Process';\r\n\r\ntype Props = {\r\n  children: Function,\r\n  loading: boolean,\r\n  handleProcess: Function,\r\n  data: any,\r\n  error: Error,\r\n  appId?: string,\r\n  redirectURI?: string,\r\n  display?: string,\r\n  from?: string,\r\n  to?: string,\r\n  link?: string,\r\n  source?: string,\r\n  picture?: string, // deprecated\r\n  name?: string, // deprecated\r\n  caption?: string, // deprecated\r\n  description?: string, // deprecated\r\n  dataRef?: string,\r\n};\r\n\r\nclass Feed extends Component<Props> {\r\n  static defaultProps = {\r\n    link: undefined,\r\n    display: undefined,\r\n    appId: undefined,\r\n    redirectURI: undefined,\r\n    from: undefined,\r\n    to: undefined,\r\n    source: undefined,\r\n    picture: undefined,\r\n    name: undefined,\r\n    caption: undefined,\r\n    description: undefined,\r\n    dataRef: undefined,\r\n  };\r\n\r\n  handleClick = async (evn) => {\r\n    evn.preventDefault();\r\n\r\n    const { handleProcess } = this.props;\r\n\r\n    return handleProcess(async (api) => {\r\n      const {\r\n        link = getCurrentHref(),\r\n        display,\r\n        appId = api.getAppId(),\r\n        redirectURI,\r\n        from,\r\n        to,\r\n        picture,\r\n        source,\r\n        name,\r\n        caption,\r\n        description,\r\n        dataRef,\r\n      } = this.props;\r\n\r\n      return api.ui(clearUndefinedProperties({\r\n        method: 'feed',\r\n        link,\r\n        display,\r\n        app_id: appId,\r\n        redirect_uri: redirectURI,\r\n        from,\r\n        to,\r\n        picture,\r\n        source,\r\n        name,\r\n        caption,\r\n        description,\r\n        ref: dataRef,\r\n      }));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children, loading, error, data,\r\n    } = this.props;\r\n\r\n    return children({\r\n      loading,\r\n      handleClick: this.handleClick,\r\n      error,\r\n      data,\r\n    });\r\n  }\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n  <Process>\r\n    {({\r\n      loading, handleProcess, error, data,\r\n    }) => (\r\n      <Feed\r\n        {...props}\r\n        loading={loading}\r\n        handleProcess={handleProcess}\r\n        data={data}\r\n        error={error}\r\n        ref={ref}\r\n      />\r\n    )}\r\n  </Process>\r\n));\r\n"]}