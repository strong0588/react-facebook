{"version":3,"sources":["../src/Share.jsx"],"names":["Share","handleClick","evn","preventDefault","handleProcess","props","api","href","display","appId","getAppId","hashtag","redirectURI","quote","mobileIframe","ui","method","app_id","redirect_uri","mobile_iframe","render","children","loading","error","data","Component","defaultProps","undefined","ref"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;IAiBMA,K;;;;;;;;;;;;;;0JAWJC,W;0FAAc,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACZA,oBAAIC,cAAJ;;AAEQC,6BAHI,GAGc,MAAKC,KAHnB,CAGJD,aAHI;AAAA,kDAKLA;AAAA,uGAAc,iBAAOE,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,0CASf,MAAKD,KATU,iCAEjBE,IAFiB,EAEjBA,IAFiB,oCAEV,+BAFU,qBAGjBC,OAHiB,eAGjBA,OAHiB,kCAIjBC,KAJiB,EAIjBA,KAJiB,qCAITH,IAAII,QAAJ,EAJS,sBAKjBC,OALiB,eAKjBA,OALiB,EAMjBC,WANiB,eAMjBA,WANiB,EAOjBC,KAPiB,eAOjBA,KAPiB,EAQjBC,YARiB,eAQjBA,YARiB;AAAA,6DAWZR,IAAIS,EAAJ,CAAO,wCAAyB;AACrCC,sCAAQ,OAD6B;AAErCT,wCAFqC;AAGrCC,8CAHqC;AAIrCS,sCAAQR,KAJ6B;AAKrCE,8CALqC;AAMrCO,4CAAcN,WANuB;AAOrCC,0CAPqC;AAQrCM,6CAAeL;AARsB,6BAAzB,CAAP,CAXY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAd;;AAAA;AAAA;AAAA;AAAA,oBALK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;kBA6BdM,M,qBAAS;AAAA,iBAGH,KAAKf,KAHF;AAAA,QAELgB,QAFK,UAELA,QAFK;AAAA,QAEKC,OAFL,UAEKA,OAFL;AAAA,QAEcC,KAFd,UAEcA,KAFd;AAAA,QAEqBC,IAFrB,UAEqBA,IAFrB;;;AAKP,WAAOH,SAAS;AACdC,sBADc;AAEdrB,mBAAa,KAAKA,WAFJ;AAGdsB,kBAHc;AAIdC;AAJc,KAAT,CAAP;AAMD,G;;;EAnDiBC,gB,UACXC,Y,GAAe;AACpBnB,QAAMoB,SADc;AAEpBhB,WAASgB,SAFW;AAGpBd,SAAOc,SAHa;AAIpBb,gBAAca,SAJM;AAKpBnB,WAASmB,SALW;AAMpBlB,SAAOkB,SANa;AAOpBf,eAAae;AAPO,C;kBAqDT,uBAAW,UAACtB,KAAD,EAAQuB,GAAR;AAAA,SACxB;AAAC,qBAAD;AAAA;AACG;AAAA,UACCN,OADD,SACCA,OADD;AAAA,UACUlB,aADV,SACUA,aADV;AAAA,UACyBoB,IADzB,SACyBA,IADzB;AAAA,UAC+BD,KAD/B,SAC+BA,KAD/B;AAAA,aAGC,8BAAC,KAAD,6BACMlB,KADN;AAEE,iBAASiB,OAFX;AAGE,uBAAelB,aAHjB;AAIE,cAAMoB,IAJR;AAKE,eAAOD,KALT;AAME,aAAKK;AANP,SAHD;AAAA;AADH,GADwB;AAAA,CAAX,C","file":"Share.js","sourcesContent":["// @flow\r\nimport React, { Component, forwardRef } from 'react';\r\nimport getCurrentHref from './utils/getCurrentHref';\r\nimport clearUndefinedProperties from './utils/clearUndefinedProperties';\r\nimport Process from './Process';\r\n\r\ntype Props = {\r\n  children: Function,\r\n  handleProcess: Function,\r\n  loading: boolean,\r\n  data: any,\r\n  error: Error,\r\n  href?: string,\r\n  hashtag?: string,\r\n  quote?: string,\r\n  mobileIframe?: boolean,\r\n  display?: string,\r\n  appId?: string,\r\n  redirectURI?: string,\r\n};\r\n\r\nclass Share extends Component<Props> {\r\n  static defaultProps = {\r\n    href: undefined,\r\n    hashtag: undefined,\r\n    quote: undefined,\r\n    mobileIframe: undefined,\r\n    display: undefined,\r\n    appId: undefined,\r\n    redirectURI: undefined,\r\n  };\r\n\r\n  handleClick = async (evn) => {\r\n    evn.preventDefault();\r\n\r\n    const { handleProcess } = this.props;\r\n\r\n    return handleProcess(async (api) => {\r\n      const {\r\n        href = getCurrentHref(),\r\n        display,\r\n        appId = api.getAppId(),\r\n        hashtag,\r\n        redirectURI,\r\n        quote,\r\n        mobileIframe,\r\n      } = this.props;\r\n\r\n      return api.ui(clearUndefinedProperties({\r\n        method: 'share',\r\n        href,\r\n        display,\r\n        app_id: appId,\r\n        hashtag,\r\n        redirect_uri: redirectURI,\r\n        quote,\r\n        mobile_iframe: mobileIframe,\r\n      }));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children, loading, error, data,\r\n    } = this.props;\r\n\r\n    return children({\r\n      loading,\r\n      handleClick: this.handleClick,\r\n      error,\r\n      data,\r\n    });\r\n  }\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n  <Process>\r\n    {({\r\n      loading, handleProcess, data, error,\r\n    }) => (\r\n      <Share\r\n        {...props}\r\n        loading={loading}\r\n        handleProcess={handleProcess}\r\n        data={data}\r\n        error={error}\r\n        ref={ref}\r\n      />\r\n    )}\r\n  </Process>\r\n));\r\n"]}