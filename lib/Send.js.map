{"version":3,"sources":["../src/Send.jsx"],"names":["Send","handleClick","evn","preventDefault","handleProcess","props","api","link","display","appId","getAppId","to","redirectURI","ui","method","app_id","redirect_uri","render","children","loading","Component","defaultProps","undefined","ref"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;IAaMA,I;;;;;;;;;;;;;;0JAQJC,W;0FAAc,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACZA,oBAAIC,cAAJ;;AAEQC,6BAHI,GAGc,MAAKC,KAHnB,CAGJD,aAHI;AAAA,kDAKLA;AAAA,uGAAc,iBAAOE,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,0CAOf,MAAKD,KAPU,iCAEjBE,IAFiB,EAEjBA,IAFiB,oCAEV,+BAFU,qBAGjBC,OAHiB,eAGjBA,OAHiB,kCAIjBC,KAJiB,EAIjBA,KAJiB,qCAITH,IAAII,QAAJ,EAJS,sBAKjBC,EALiB,eAKjBA,EALiB,EAMjBC,WANiB,eAMjBA,WANiB;AAAA,6DASZN,IAAIO,EAAJ,CAAO,wCAAyB;AACrCC,sCAAQ,MAD6B;AAErCP,wCAFqC;AAGrCC,8CAHqC;AAIrCO,sCAAQN,KAJ6B;AAKrCE,oCALqC;AAMrCK,4CAAcJ;AANuB,6BAAzB,CAAP,CATY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAd;;AAAA;AAAA;AAAA;AAAA,oBALK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;iBAyBdK,M,qBAAS;AAAA,iBACuB,KAAKZ,KAD5B;AAAA,QACCa,QADD,UACCA,QADD;AAAA,QACWC,OADX,UACWA,OADX;;;AAGP,WAAOD,SAAS;AACdC,sBADc;AAEdlB,mBAAa,KAAKA;AAFJ,KAAT,CAAP;AAID,G;;;EAxCgBmB,gB,UACVC,Y,GAAe;AACpBV,MAAIW,SADgB;AAEpBd,WAASc,SAFW;AAGpBb,SAAOa,SAHa;AAIpBV,eAAaU;AAJO,C;kBA0CT,uBAAW,UAACjB,KAAD,EAAQkB,GAAR;AAAA,SACxB;AAAC,qBAAD;AAAA;AACG;AAAA,UAAGJ,OAAH,SAAGA,OAAH;AAAA,UAAYf,aAAZ,SAAYA,aAAZ;AAAA,aACC,8BAAC,IAAD,6BACMC,KADN;AAEE,iBAASc,OAFX;AAGE,uBAAef,aAHjB;AAIE,aAAKmB;AAJP,SADD;AAAA;AADH,GADwB;AAAA,CAAX,C","file":"Send.js","sourcesContent":["// @flow\r\nimport React, { Component, forwardRef } from 'react';\r\nimport getCurrentHref from './utils/getCurrentHref';\r\nimport clearUndefinedProperties from './utils/clearUndefinedProperties';\r\nimport Process from './Process';\r\n\r\ntype Props = {\r\n  children: Function,\r\n  handleProcess: Function,\r\n  loading: boolean,\r\n  link: string,\r\n  to?: string,\r\n  display?: string,\r\n  appId?: string,\r\n  redirectURI?: string,\r\n};\r\n\r\nclass Send extends Component<Props> {\r\n  static defaultProps = {\r\n    to: undefined,\r\n    display: undefined,\r\n    appId: undefined,\r\n    redirectURI: undefined,\r\n  };\r\n\r\n  handleClick = async (evn) => {\r\n    evn.preventDefault();\r\n\r\n    const { handleProcess } = this.props;\r\n\r\n    return handleProcess(async (api) => {\r\n      const {\r\n        link = getCurrentHref(),\r\n        display,\r\n        appId = api.getAppId(),\r\n        to,\r\n        redirectURI,\r\n      } = this.props;\r\n\r\n      return api.ui(clearUndefinedProperties({\r\n        method: 'send',\r\n        link,\r\n        display,\r\n        app_id: appId,\r\n        to,\r\n        redirect_uri: redirectURI,\r\n      }));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { children, loading } = this.props;\r\n\r\n    return children({\r\n      loading,\r\n      handleClick: this.handleClick,\r\n    });\r\n  }\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n  <Process>\r\n    {({ loading, handleProcess }) => (\r\n      <Send\r\n        {...props}\r\n        loading={loading}\r\n        handleProcess={handleProcess}\r\n        ref={ref}\r\n      />\r\n    )}\r\n  </Process>\r\n));\r\n"]}